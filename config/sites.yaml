---
eqiad:
  confed: 65001
  mgmt_gw: 10.65.0.1
  customers:
    - 64601  # k8s-eqiad
    - 64603  # k8s-staging-eqiad
    - 64606  # k8s-mlserve-eqiad
    - 64609  # k8s-dse-eqiad
    - 64610  # k8s-aux-eqiad
    - 64700  # fundraising-eqiad
    - 64710  # WMCS-eqiad
  bgp_out:
    208.80.154.0/23: BGP_aggregate_contributors  # eqiad
    198.35.27.0/24: BGP_from_anycast  # Anycast
    185.71.138.0/24: BGP_from_anycast  # Wikidough Anycast
  bgp6_out:
    2620:0:861::/48: BGP_aggregate_contributors  # eqiad
    2001:67c:930::/48: BGP_from_anycast  # Wikidough Anycast v6
  lvs_neighbors:  # Routers PyBal neighbors
    lvs1017: 10.64.0.80
    lvs1018: 10.64.16.60
    lvs1019: 10.64.32.17
    lvs1020: 10.64.48.72
  k8s_neighbors:  # Routers k8s neighbors
    # yamllint disable rule:commas
    kubemaster1001: {4: 10.64.0.117,  6: 2620:0:861:101:10:64:0:117}
    kubemaster1002: {4: 10.64.32.116, 6: 2620:0:861:103:10:64:32:116}
    kubernetes1005: {4: 10.64.0.145,  6: 2620:0:861:101:10:64:0:145}
    kubernetes1006: {4: 10.64.32.18,  6: 2620:0:861:103:10:64:32:18}
    kubernetes1007: {4: 10.64.0.217,  6: 2620:0:861:101:10:64:0:217}
    kubernetes1008: {4: 10.64.0.218,  6: 2620:0:861:101:10:64:0:218}
    kubernetes1009: {4: 10.64.16.188, 6: 2620:0:861:102:10:64:16:188}
    kubernetes1010: {4: 10.64.16.189, 6: 2620:0:861:102:10:64:16:189}
    kubernetes1011: {4: 10.64.32.134, 6: 2620:0:861:103:10:64:32:134}
    kubernetes1012: {4: 10.64.32.135, 6: 2620:0:861:103:10:64:32:135}
    kubernetes1013: {4: 10.64.48.229, 6: 2620:0:861:107:10:64:48:229}
    kubernetes1014: {4: 10.64.48.230, 6: 2620:0:861:107:10:64:48:230}
    kubernetes1015: {4: 10.64.16.79,  6: 2620:0:861:102:10:64:16:79}
    kubernetes1016: {4: 10.64.48.21,  6: 2620:0:861:107:10:64:48:21}
    kubernetes1017: {4: 10.64.0.27,   6: 2620:0:861:101:10:64:0:27}
    kubernetes1018: {4: 10.64.0.81,   6: 2620:0:861:101:10:64:0:81}
    kubernetes1019: {4: 10.64.16.54,  6: 2620:0:861:102:10:64:16:54}
    kubernetes1020: {4: 10.64.32.171, 6: 2620:0:861:103:10:64:32:171}
    kubernetes1021: {4: 10.64.48.105, 6: 2620:0:861:107:10:64:48:105}
    kubernetes1022: {4: 10.64.16.61,  6: 2620:0:861:102:10:64:16:61}
  k8s_stage_neighbors:
    kubestagemaster1001: {4: 10.64.16.203, 6: 2620:0:861:102:10:64:16:203}
    kubestage1003: {4: 10.64.16.55,  6: 2620:0:861:102:10:64:16:55}
    kubestage1004: {4: 10.64.48.106, 6: 2620:0:861:107:10:64:48:106}
  k8s_mlserve_neighbors:
    ml-serve-ctrl1001: {4: 10.64.16.202, 6: 2620:0:861:102:10:64:16:202}
    ml-serve-ctrl1002: {4: 10.64.48.64, 6: 2620:0:861:107:10:64:48:64}
    ml-serve1001: {4: 10.64.0.41,   6: 2620:0:861:101:10:64:0:41}
    ml-serve1002: {4: 10.64.16.183, 6: 2620:0:861:102:10:64:16:183}
    ml-serve1003: {4: 10.64.32.81,  6: 2620:0:861:103:10:64:32:81}
    ml-serve1004: {4: 10.64.48.50,  6: 2620:0:861:107:10:64:48:50}
  k8s_dse_neighbors:
    dse-k8s-ctrl1001: {4: 10.64.0.228,  6: 2620:0:861:101:10:64:0:228}
    dse-k8s-ctrl1002: {4: 10.64.16.237, 6: 2620:0:861:102:10:64:16:237}
    dse-k8s-worker1001: {4: 10.64.0.38,   6: 2620:0:861:101:10:64:0:38}
    dse-k8s-worker1002: {4: 10.64.16.47,  6: 2620:0:861:102:10:64:16:47}
    dse-k8s-worker1003: {4: 10.64.32.178, 6: 2620:0:861:103:10:64:32:178}
    dse-k8s-worker1004: {4: 10.64.48.52,  6: 2620:0:861:107:10:64:48:52}
  k8s_aux_neighbors:
    aux-k8s-ctrl1001: {4: 10.64.0.42, 6: 2620:0:861:101:10:64:0:42}
    aux-k8s-ctrl1002: {4: 10.64.0.107, 6: 2620:0:861:101:10:64:0:107}
    aux-k8s-worker1001: {4: 10.64.0.126, 6: 2620:0:861:101:10:64:0:126}
    aux-k8s-worker1002: {4: 10.64.0.127, 6: 2620:0:861:101:10:64:0:127}
    # yamllint enable rule:commas
  anycast_neighbors:
    dns1001: {4: 208.80.154.10}
    dns1002: {4: 208.80.155.108}
    doh1001: {4: 208.80.154.70, 6: 2620:0:861:3:208:80:154:70}
    doh1002: {4: 208.80.155.112, 6: 2620:0:861:4:208:80:155:112}
    authdns1001: {4: 208.80.154.134}
    centrallog1001: {4: 10.64.48.113}
    centrallog1002: {4: 10.64.16.86}
    durum1001: {4: 10.64.48.95, 6: 2620:0:861:107:10:64:48:95}   # Wikidough check
    durum1002: {4: 10.64.16.20, 6: 2620:0:861:102:10:64:16:20}   # Wikidough check
  ping_offload_vip: 208.80.154.224/32
  ping_offload_redirect: 10.64.48.10  # ping1003.eqiad.wmnet
  sampling:
    collectors:
      netflow1002: 10.64.16.82
  dhcp_server: 208.80.154.32  # install1003.wikimedia.org
  dhcp_relay:
    interfaces:
      - ae1.1001
      - ae1.1017
      - ae1.1117
      - ae2.1002
      - ae2.1018
      - ae2.1021
      - ae3.1003
      - ae3.1019
      - ae3.1022
      - ae3.1119
      - ae4.1020
      - ae4.1004
      - ae2.1202
  tcp_mss_clamping: true

eqord:
  confed: 65020
  bgp_out:
    208.80.152.0/23: BGP_from_LVS  # codfw
    208.80.154.0/23: BGP_from_LVS  # eqiad
  bgp6_out:
    2620:0:860::/48: BGP_from_LVS  # codfw
    2620:0:861::/48: BGP_from_LVS  # eqiad
  sampling:
    collectors:
      netflow1002: 10.64.16.82
  tcp_mss_clamping: true

codfw:
  confed: 65002
  mgmt_gw: 10.193.0.1
  customers:
    - 64602  # k8s-codfw
    - 64604  # k8s-staging-codfw
    - 64607  # k8s-mlserve-codfw
    - 64608  # k8s-mlstaging-codfw
    - 64701  # fundraising-codfw
  bgp_out:
    208.80.152.0/23: BGP_aggregate_contributors  # codfw
    185.15.57.0/24: BGP_aggregate_contributors  # WMCS codfw
    198.35.27.0/24: BGP_from_anycast  # Anycast
    185.71.138.0/24: BGP_from_anycast  # Wikidough Anycast
  bgp6_out:
    2620:0:860::/48: BGP_aggregate_contributors  # codfw
    2001:67c:930::/48: BGP_from_anycast  # Wikidough Anycast v6
  lvs_neighbors:  # Routers PyBal neighbors
    lvs2007: 10.192.1.7
    lvs2008: 10.192.17.7
    lvs2009: 10.192.33.7
    lvs2010: 10.192.49.7
  k8s_neighbors:  # Routers k8s neighbors
    # yamllint disable rule:commas
    kubemaster2001: {4: 10.192.0.56,   6: 2620:0:860:101:10:192:0:56}
    kubemaster2002: {4: 10.192.16.48,  6: 2620:0:860:102:10:192:16:48}
    kubernetes2005: {4: 10.192.0.117,  6: 2620:0:860:101:10:192:0:117}
    kubernetes2006: {4: 10.192.16.102, 6: 2620:0:860:102:10:192:16:102}
    kubernetes2007: {4: 10.192.0.196,  6: 2620:0:860:101:10:192:0:196}
    kubernetes2008: {4: 10.192.0.197,  6: 2620:0:860:101:10:192:0:197}
    kubernetes2009: {4: 10.192.16.138, 6: 2620:0:860:102:10:192:16:138}
    kubernetes2010: {4: 10.192.16.212, 6: 2620:0:860:102:10:192:16:212}
    kubernetes2011: {4: 10.192.32.109, 6: 2620:0:860:103:10:192:32:109}
    kubernetes2012: {4: 10.192.32.110, 6: 2620:0:860:103:10:192:32:110}
    kubernetes2013: {4: 10.192.48.28,  6: 2620:0:860:104:10:192:48:28}
    kubernetes2014: {4: 10.192.48.29,  6: 2620:0:860:104:10:192:48:29}
    kubernetes2015: {4: 10.192.32.21,  6: 2620:0:860:103:10:192:32:21}
    kubernetes2016: {4: 10.192.48.30,  6: 2620:0:860:104:10:192:48:30}
    kubernetes2017: {4: 10.192.32.41,  6: 2620:0:860:103:10:192:32:41}
    kubernetes2018: {4: 10.192.0.125,  6: 2620:0:860:101:10:192:0:125}
    kubernetes2019: {4: 10.192.0.207,  6: 2620:0:860:101:10:192:0:207}
    kubernetes2020: {4: 10.192.16.135, 6: 2620:0:860:102:10:192:16:135}
    kubernetes2021: {4: 10.192.32.89,  6: 2620:0:860:103:10:192:32:89}
    kubernetes2022: {4: 10.192.48.180, 6: 2620:0:860:104:10:192:48:180}
  k8s_stage_neighbors:
    kubestagemaster2001: {4: 10.192.48.10, 6: 2620:0:860:104:10:192:48:10}
    kubestage2001: {4: 10.192.0.195, 6: 2620:0:860:101:10:192:0:195}
    kubestage2002: {4: 10.192.16.137, 6: 2620:0:860:102:10:192:16:137}
  k8s_mlserve_neighbors:
    ml-serve-ctrl2001: {4: 10.192.32.33, 6: 2620:0:860:103:10:192:32:33}
    ml-serve-ctrl2002: {4: 10.192.48.41, 6: 2620:0:860:104:10:192:48:41}
    ml-serve2001: {4: 10.192.0.21,  6: 2620:0:860:101:10:192:0:21}
    ml-serve2002: {4: 10.192.16.43, 6: 2620:0:860:102:10:192:16:43}
    ml-serve2003: {4: 10.192.32.29, 6: 2620:0:860:103:10:192:32:29}
    ml-serve2004: {4: 10.192.48.11, 6: 2620:0:860:104:10:192:48:11}
    ml-serve2005: {4: 10.192.0.202, 6: 2620:0:860:101:10:192:0:202}
    ml-serve2006: {4: 10.192.16.115, 6: 2620:0:860:102:10:192:16:115}
    ml-serve2007: {4: 10.192.32.78, 6: 2620:0:860:103:10:192:32:78}
    ml-serve2008: {4: 10.192.48.175, 6: 2620:0:860:104:10:192:48:175}
  k8s_mlstaging_neighbors:
    ml-staging-ctrl2001: {4: 10.192.16.93, 6: 2620:0:860:102:10:192:16:93}
    ml-staging-ctrl2002: {4: 10.192.48.64, 6: 2620:0:860:104:10:192:48:64}
    ml-staging2001: {4: 10.192.0.201,  6: 2620:0:860:101:10:192:0:201}
    ml-staging2002: {4: 10.192.48.174, 6: 2620:0:860:104:10:192:48:174}
    # yamllint enable rule:commas
  anycast_neighbors:
    dns2001: {4: 208.80.153.77}
    dns2002: {4: 208.80.153.111}
    authdns2001: {4: 208.80.153.17}
    centrallog2002: {4: 10.192.16.35}
    doh2001: {4: 208.80.153.6, 6: 2620:0:860:1:208:80:153:6}
    doh2002: {4: 208.80.153.38, 6: 2620:0:860:2:208:80:153:38}
    durum2001: {4: 10.192.32.58, 6: 2620:0:860:103:10:192:32:58}  # Wikidough check
    durum2002: {4: 10.192.48.14, 6: 2620:0:860:104:10:192:48:14}  # Wikidough check
  ping_offload_vip: 208.80.153.224/32
  ping_offload_redirect: 10.192.48.31  # ping2003.codfw.wmnet
  sampling:
    collectors:
      netflow2002: 10.192.32.76
  dhcp_server: 208.80.153.105  # install2004.wikimedia.org
  dhcp_relay:
    interfaces:
      - ae1.2001
      - ae2.2002
      - ae3.2003
      - ae4.2004
      - ae1.2017
      - ae2.2018
      - ae3.2019
      - ae4.2020
      - ae2.2122
      - ae1.2201
      - ae2.2118

eqdfw:
  confed: 65002
  bgp_out:
    198.35.27.0/24: BGP_from_anycast  # Anycast
    208.80.152.0/23: BGP_from_LVS  # codfw
    185.15.57.0/24: BGP_aggregate_contributors  # WMCS codfw
    185.71.138.0/24: BGP_from_anycast  # Wikidough Anycast
  bgp6_out:
    2620:0:860::/48: BGP_from_LVS  # codfw
  sampling:
    collectors:
      netflow2002: 10.192.32.76


ulsfo:
  confed: 65004
  mgmt_gw: 10.128.128.1
  customers:
    - 11820  # WMF HQ
  bgp_out:
    198.35.26.0/24: BGP_aggregate_contributors  # ulsfo
    198.35.27.0/24: BGP_from_anycast  # Anycast
    185.71.138.0/24: BGP_from_anycast  # Wikidough Anycast
  bgp6_out:
    2620:0:863::/48: BGP_aggregate_contributors  # ulsfo
    2001:67c:930::/48: BGP_from_anycast  # Wikidough Anycast v6
  lvs_neighbors:  # Routers PyBal neighbors
    lvs4008: 10.128.0.18
    lvs4009: 10.128.0.9
    lvs4010: 10.128.0.11
  anycast_neighbors:
    dns4003: {4: 198.35.26.7}
    dns4004: {4: 198.35.26.8}
    doh4001: {4: 198.35.26.14, 6: 2620:0:863:1:198:35:26:14}
    doh4002: {4: 198.35.26.6, 6: 2620:0:863:1:198:35:26:6}
    durum4001: {4: 10.128.0.6, 6: 2620:0:863:101:10:128:0:6}  # Wikidough check
    durum4002: {4: 10.128.0.7, 6: 2620:0:863:101:10:128:0:7}  # Wikidough check
  sampling:
    collectors:
      netflow4002: 10.128.0.13
  dhcp_server: 198.35.26.13  # install4002.wikimedia.org
  dhcp_relay:
    interfaces:
      - et-0/0/1.1201
      - et-0/0/1.1211
      - et-0/0/1.1221

eqsin:
  confed: 65005
  mgmt_gw: 10.132.128.1
  bgp_out:
    103.102.166.0/24: BGP_aggregate_contributors  # eqsin
    198.35.27.0/24: BGP_from_anycast  # Anycast
    185.71.138.0/24: BGP_from_anycast  # Wikidough Anycast
  bgp6_out:
    2001:df2:e500::/48: BGP_aggregate_contributors  # eqsin
    2001:67c:930::/48: BGP_from_anycast  # Wikidough Anycast v6
  lvs_neighbors:
    lvs5004: 10.132.0.39
    lvs5005: 10.132.0.6
    lvs5006: 10.132.0.7
  anycast_neighbors:
    dns5003: {4: 103.102.166.10}
    dns5004: {4: 103.102.166.8}
    doh5001: {4: 103.102.166.14, 6: 2001:df2:e500:1:103:102:166:14}
    doh5002: {4: 103.102.166.5, 6: 2001:df2:e500:1:103:102:166:5}
    durum5001: {4: 10.132.0.10, 6: 2001:df2:e500:101:10:132:0:10}   # Wikidough check
    durum5002: {4: 10.132.0.14, 6: 2001:df2:e500:101:10:132:0:14}   # Wikidough check
  sampling:
    collectors:
      netflow5002: 10.132.0.15
  dhcp_server: 103.102.166.13  # install5001.wikimedia.org
  dhcp_relay:
    interfaces:
      - ae1.510
      - ae1.520
      - ae1.530
  tcp_mss_clamping: true

esams:
  confed: 65003
  mgmt_gw: 10.21.0.1
  bgp_out:
    91.198.174.0/24: BGP_aggregate_contributors  # esams
    185.15.59.0/24: BGP_aggregate_contributors  # esams OOB swap
    198.35.27.0/24: BGP_from_anycast  # Anycast
    185.71.138.0/24: BGP_from_anycast  # Wikidough Anycast
  bgp6_out:
    2620:0:862::/48: BGP_aggregate_contributors  # esams
    2a02:ec80:500::/48: BGP_aggregate_contributors  # esams OOB swap
    2001:67c:930::/48: BGP_from_anycast  # Wikidough Anycast v6
  lvs_neighbors:
    lvs3005: 10.20.0.15
    lvs3006: 10.20.0.16
    lvs3007: 10.20.0.17
  anycast_neighbors:
    dns3001: {4: 91.198.174.61}
    dns3002: {4: 91.198.174.62}
    doh3001: {4: 91.198.174.7, 6: 2620:0:862:1:91:198:174:7}
    doh3002: {4: 91.198.174.8, 6: 2620:0:862:1:91:198:174:8}
    durum3001: {4: 10.20.0.6, 6: 2620:0:862:102:10:20:0:6}  # Wikidough check
    durum3002: {4: 10.20.0.7, 6: 2620:0:862:102:10:20:0:7}  # Wikidough check
  ping_offload_vip: 91.198.174.192/32  # text-lb.esams.wikimedia.org
  ping_offload_redirect: 10.20.0.10  # ping3003.esams.wmnet
  sampling:
    collectors:
      netflow3002: 10.20.0.9
  dhcp_server: 91.198.174.10  # install3002.wikimedia.org
  dhcp_relay:
    interfaces:
      - ae1.100
      - ae1.102
      - ae1.103
  tcp_mss_clamping: true

knams:
  confed: 65003
  bgp_out:
    91.198.174.0/24: BGP_from_LVS  # esams
    185.15.59.0/24: BGP_aggregate_contributors  # esams OOB swap
    198.35.27.0/24: BGP_from_anycast  # Anycast
    185.71.138.0/24: BGP_from_anycast  # Wikidough Anycast
  bgp6_out:
    2620:0:862::/48: BGP_from_LVS  # esams
    2a02:ec80:500::/48: BGP_aggregate_contributors  # esams OOB swap
    2001:67c:930::/48: BGP_from_anycast  # Anycast v6
  sampling:
    collectors:
      netflow3002: 10.20.0.9
  tcp_mss_clamping: true

drmrs:
  confed: 65006
  mgmt_gw: 10.136.128.1
  bgp_out:
    185.15.58.0/24: BGP_aggregate_contributors  # drmrs
    185.71.138.0/24: BGP_from_anycast  # Wikidough Anycast
  bgp6_out:
    2a02:ec80:600::/48: BGP_aggregate_contributors  # drmrs
    2001:67c:930::/48: BGP_from_anycast  # Wikidough Anycast v6
  sampling:
    collectors:
      netflow6001: 10.136.1.22
  tcp_mss_clamping: true
